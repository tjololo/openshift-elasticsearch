FROM docker.elastic.co/elasticsearch/elasticsearch-oss:5.6.5

MAINTAINER Vemund Gaukstad

ENV TZ=Europ/Oslo
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone && chmod -R 775 /etc/elasticsearch

USER elasticsearch
ENV PATH=$PATH:/usr/share
COPY entrypoint.sh /usr/share
COPY elasticsearch.yml logging.yml /etc/elasticsearch/


EXPOSE 9200
EXPOSE 9300

ENTRYPOINT ["/usr/share/entrypoint.sh"]

CMD ["/usr/share/elasticsearch/bin/elasticsearch"]